{% extends request.ajax ? "layout_blank.html.twig" : "layout_default.html.twig" %}

{% import "macro_functions.html.twig" as mf %}

{% block meta_title %}{{ 'Order'|trans }}{% endblock %}

{% set loader_nr = request.loader | default("8")%}
{% set loader_url = ('img/assets/loaders/loader'~loader_nr~'.gif') %}

{% block body_class %}order-index{% endblock %}
{% block breadcrumb %}
    <li class="active breadcrumb-item" aria-current="page">{{ 'Order'|trans }}</li>
{% endblock %}
{% block content_before %}{% endblock %}

{% block content %}
<div class="row row-deck row-cards">
    <div class="col-md-12">
        <div class="card card-md">
            <div class="card-header py-3 py-3">
                <div class="d-flex justify-content-between align-items-center w-100">
                    <div>
                        <h1 class="mb-1">{{ 'Products'|trans }}</h1>
                    </div>
                    <div>
                        {% set cart = guest.cart_get %}
                        <a href="{{ 'orderbutton?checkout=1'|link }}" class="btn btn-light position-relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 19a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M15 19a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M17 17h-11v-14h-2" /><path d="M6 5l14 1l-1 7h-13" /></svg>&nbsp;{{ 'Cart'|trans }}
                            <span class="badge bg-green text-green-fg ms-1">
                                {{ cart.items | length }}
                            </span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="card-body">
                {% for i, category in guest.product_category_get_list.list %}
                {% if not loop.first %}<hr />{% endif %}
                <h2{% if not loop.first %} class="mt-4"{% endif %}>{{ category.title }}</h2>
                <span>{{ category.description|markdown }}</span>
                <div class="row row-cards">
                   {% for i, product in category.products|sort((a, b) => a.priority <=> b.priority) %}
                   <div class="{% if loop.length == 1 %}col-sm-12 col-lg-12{% elseif loop.length == 2 %}col-sm-6 col-lg-6{% elseif loop.length == 3 %}col-sm-6 col-lg-4{% else %}col-sm-6 col-lg-3{% endif %}">
                      <div class="card card-md">
                         {% if product.type == 'domain' %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-green">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                               <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                               <path d="M12 10m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>
                               <path d="M6.75 16a8.015 8.015 0 1 0 9.25 -13"></path>
                               <path d="M12 18l0 4"></path>
                               <path d="M8 22l8 0"></path>
                            </svg>
                         </div>
                         {% elseif product.type == 'hosting' %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-orange">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                               <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                               <path d="M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z"></path>
                               <path d="M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z"></path>
                               <path d="M7 8l0 .01"></path>
                               <path d="M7 16l0 .01"></path>
                            </svg>
                         </div>
                         {% elseif product.type == 'downloadable' %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-indigo">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                               <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                               <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>
                               <path d="M7 11l5 5l5 -5"></path>
                               <path d="M12 4l0 12"></path>
                            </svg>
                         </div>
                         {% elseif product.type == 'license' %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-pink">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                               <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                               <path d="M15 21h-9a3 3 0 0 1 -3 -3v-1h10v2a2 2 0 0 0 4 0v-14a2 2 0 1 1 2 2h-2m2 -4h-11a3 3 0 0 0 -3 3v11"></path>
                               <path d="M9 7l4 0"></path>
                               <path d="M9 11l4 0"></path>
                            </svg>
                         </div>
                         {% elseif product.type == 'dns' %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-azure">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon">
                              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                              <path d="M6 9a6 6 0 1 0 12 0a6 6 0 0 0 -12 0" />
                              <path d="M12 3c1.333 .333 2 2.333 2 6s-.667 5.667 -2 6" />
                              <path d="M12 3c-1.333 .333 -2 2.333 -2 6s.667 5.667 2 6" />
                              <path d="M6 9h12" />
                              <path d="M3 20h7" />
                              <path d="M14 20h7" />
                              <path d="M10 20a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                              <path d="M12 15v3" />
                            </svg>
                         </div>
                         {% else %}
                         <div class="ribbon ribbon-top ribbon-bookmark bg-dark">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                               <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                               <path d="M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"></path>
                               <path d="M12 12l8 -4.5"></path>
                               <path d="M12 12l0 9"></path>
                               <path d="M12 12l-8 -4.5"></path>
                            </svg>
                         </div>
                         {% endif %}
                         <div class="card-body text-center">
                            <div class="text-uppercase text-muted font-weight-medium mb-4">{{ product.type }}</div>
                            <h3>{{ product.title }}</h3>
                            <div class="text-center mt-4">
                               <a href="{{ ('/order/' ~ product.id) | link }}" class="btn {% if product.type == 'domain' %}btn-green{% elseif product.type == 'hosting' %}btn-orange{% elseif product.type == 'downloadable' %}btn-indigo{% elseif product.type == 'license' %}btn-pink{% elseif product.type == 'dns' %}btn-azure{% else %}btn-dark{% endif %} w-100">{{ 'Choose'|trans }}</a>
                            </div>
                         </div>
                      </div>
                   </div>
                   {% endfor %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
{% autoescape "js" %}
<script>
    function resizeIframe(obj) {
        obj.style.height = obj.contentWindow.document.documentElement.scrollHeight + 'px';
        document.getElementById('loader-image').style.display = 'none';
    }
</script>
{% endautoescape %}
{% endblock %}